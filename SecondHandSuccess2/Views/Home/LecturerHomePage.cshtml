@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{ var book = ViewBag.books as SecondHandSuccess2.Models.BOOK;}

@model SecondHandSuccess2.Models.Module


<div class="row">
    <h1 class="h1 col-md-6">My Modules</h1>
    <a class="col-md-1 btn btn-light justify-content-end m-auto" style="margin-right:0px" href=@Url.Action(controllerName: "Home", actionName: "Index", routeValues: 0)>Log Out</a>
</div>
<div class="row" style="margin:20px">
    <table class="table table-striped table-dark">
        <thead>
            <tr>
                <th scope="col" style="border-top:none;">Module Code</th>
                <th scope="col" style="border-top:none;">Module Name</th>
                <th scope="col" style="border-top:none;">Textbook</th>
                <th scope="col" style="border-top:none"></th>

            </tr>
        </thead>
        <tbody>
            @using (Html.BeginForm("editModuleButton", "User", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
          {
              @Html.AntiForgeryToken()
              @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                // if (@item.Module.moduleLecturer == (ViewBag.User.PersonIDNumber).Trim())

                foreach (var module in ViewBag.modules)
                {
                    if (module.moduleLecturer == ViewBag.User.PersonIDNumber)
                    {
                            <tr>
                                <td>
                                    @module.moduleCode
                                </td>
                                <td>
                                    @module.moduleName
                                </td>
                                <td>
                                    @foreach (var item in ViewBag.Prescribed)
                                    {
                                        if (@item.Module.moduleLecturer == ViewBag.User.PersonIDNumber && @item.moduleCode ==module.moduleCode) {
                                           @item.BOOK.bookName}
                                    }
                                </td>
                                <td>
                                 
                                    <input type="hidden" name="moduleNameHidden" value="maybe" id="moduleNameHidden" />
                                    <button class="btn btn-lg btn-primary btn-block text-uppercase" value=" @module.moduleName" type="submit" name="moduleEditing">Edit</button>
                                </td>
                            </tr>
                        }
                    }
                }
            }
        </tbody>
    </table>
</div>
<style>
    .h1 {
        font-size: 4.5rem
    }

    .btn {
        max-height: 40px;
    }

    table {
        border-radius: 10px;
    }
</style>
<script>

</script>
